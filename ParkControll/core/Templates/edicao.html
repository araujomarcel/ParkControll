<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="style.css">
    <title>Editar</title>
</head>
<body>
  <header>
    <nav class="navbar navbar-expand-lg bg-body-tertiary, navbar navbar-light" style="background-color: #e3f2fd;">
        <div class="container-fluid">
          <a class="navbar-brand" href="{% url 'index' %}">Park Controll</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
            <div class="navbar-nav">
              <a class="nav-link" href="{% url 'operacional' %}">Operacional</a>
              <a class="nav-link" href="{% url 'consulta' %}">Consultar</a>
              <a class="nav-link" href="{% url 'cadastro' %}">Cadastrar</a>
              <a class="nav-link" href="{% url 'edicao' %}">Atualizar</a>                  
            </div>
          </div>
        </div>
      </nav>
</header>
    <div class="container col-md-4">  
        <br><br><br>  
        <h1>Atualizar dados de veículo</h1>
        <form action="" method=""  id="cadastroForm">
            <div class="mb-3">
                <label for="exampleFormControlInput1" class="form-label">Placa</label>
                <input type="text" minlength="7" maxlength="7" name="placa" class="form-control" id="placa">
            </div>           
            <label class="form-label">Tipo de veículo</label><br>
            <select class="form-select">
                <option selected value="carro">Carro</option>
                <option value="moto">Moto</option>
                <option value="camionete">Camionete</option>
            </select>  
            <div class="mb-0">
              <br><label for="exampleFormControlInput1" class="form-label">Marca</label>
              <input type="text" maxlength="20" name="marca" class="form-control" id="marca">
            </div>   
            <div class="mb-3">
                <br><label for="exampleFormControlInput1" class="form-label">Modelo</label>
                <input type="text" maxlength="20" name="modelo" class="form-control" id="modelo">
            </div>     
            <div class="mb-3">
                <label for="exampleFormControlInput1" class="form-label">Cor</label>
                <input type="text" maxlength="20" name="cor" class="form-control" id="cor">
            </div>     
            <div class="mb-3">
                <label for="exampleFormControlInput1" class="form-label">Proprietário</label>
                <input type="text" maxlength="50" name="proprietario" class="form-control" id="proprietario">
            </div>  
            <div class="mb-3">
                <label for="exampleFormControlInput1" class="form-label">CPF</label>
                <input type="text" minlength="11" maxlength="11" name="cpf" class="form-control" id="cpf">
            </div>  
            <div class="mb-3">
                <label for="exampleFormControlInput1" class="form-label">Telefone</label>
                <input type="text" minlength="10" maxlength="11" name="telefone" class="form-control" id="telefone">
            </div>  
            <div class="col-auto">
                <button type="submit" class="btn btn-success mb-3">Atualizar Dados</button>
            </div>
            <br><br><br>
        </form>
        <br><br><br><br><br><br>
        <script>
          function validarCPF(cpf) {
              cpf = cpf.replace(/\D/g, ''); // Remove caracteres não numéricos
      
              if (cpf.length !== 11 || /^(.)\1+$/.test(cpf)) {
                  return false; // CPF deve ter 11 dígitos e não pode ter todos os dígitos iguais
              }
          }
          // Função para validar o formulário antes do envio
          function validarFormulario(event) {
              var cpfInput = document.getElementById('cpf');
              var cpf = cpfInput.value;
      
              if (!validarCPF(cpf)) {
                  alert('CPF inválido. Por favor, verifique o campo CPF.');
                  event.preventDefault(); // Impede o envio do formulário se o CPF for inválido
              }
          }
          // validação  formulário
          var form = document.getElementById('cadastroForm');
          form.addEventListener('submit', validarFormulario);

          // digitação  campo CPF
          var cpfInput = document.getElementById('cpf');
          cpfInput.addEventListener('keypress', validarDigitacaoNumerica);


          function validarFormulario(event) {
            var cpfInput = document.getElementById('cpf');
            var cpf = cpfInput.value;

            var placaInput = document.getElementById('placa');
            var placa = placaInput.value;

            var marcaInput = document.getElementById('marca');
            var marca = marcaInput.value;

            var modeloInput = document.getElementById('modelo');
            var modelo = modeloInput.value;

            var corInput = document.getElementById('cor');
            var cor = corInput.value;

            var proprietarioInput = document.getElementById('proprietario');
            var proprietario = proprietarioInput.value;

            var telefoneInput = document.getElementById('telefone');
            var telefone = telefoneInput.value;

    // Verifica se algum campo está vazio
          if (
              cpf === '' ||
              placa === '' ||
              marca === '' ||
              modelo === '' ||
              cor === '' ||
              proprietario === '' ||
              telefone === ''
          ) {
              alert('Por favor, preencha todos os campos.');
              event.preventDefault(); // Impede o envio do formulário se algum campo estiver vazio
          }
}
      </script>
    </div>
    <footer>
        <dl>
          <dt>E-mail</dt>
          <dd>contato@gmail.com</dd>
          <dt>Telefone</dt>
          <dd>(19)3544-8887</dd>
        </dl>
        <p>
          <a class="nav-link" href="#">Park Controll</a>
        </p>
      </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
</body>
</html>